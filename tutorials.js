var tutorialLinks = {
	"mapping":
	[
		{
			"title": "Launcher Introduction",
			"new": false,
			"difficulty": "Beginner",
			"description": "An introduction to Launcher and starting to use the Mod Tools.",
			"date": "09 / 21 / 16",
			"href": "tutorials/launcher_introduction.html",
			"videos": ["https://www.youtube.com/embed/tj7guP_ZeUI"],
			"descriptionMain": "",
			"content": "",
			"downloads": []
		},
		{
			"title": "Radiant Introduction",
			"new": false,
			"difficulty": "Beginner",
			"description": "An introduction to Radiant and some of the basic controls and layouts of the program.",
			"date": "09 / 23 / 16",
			"href": "tutorials/radiant_introduction.html",
			"videos": ["https://www.youtube.com/embed/VY_WfL_1Ras"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Prefabs",
			"new": false,
			"difficulty": "Beginner",
			"description": "Grouping brushes and entities in Radiant - useful for organizing your mapping.",
			"date": "09 / 23 / 16",
			"href": "tutorials/prefabs.html",
			"videos":["https://www.youtube.com/embed/0hWaVQ8x3p4"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Patch Detailing",
			"new": false,
			"difficulty": "Intermediate",
			"description": "Use patches to create more advanced shapes that brushes just can't do.",
			"date": "09 / 24 / 16",
			"href": "tutorials/patch_detailing.html",
			"videos": ["https://www.youtube.com/embed/kp84nhBTgqs"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Pose Manipulator",
			"new": false,
			"difficulty": "Beginner",
			"description": "Move and rotate the joints of models to position them in your map.",
			"date": "09 / 26 / 16",
			"href": "tutorials/pose_manipulator.html",
			"videos": ["https://www.youtube.com/embed/_PbnBDMw2Iw"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Volume Decals",
			"new": false,
			"difficulty": "Beginner",
			"description": "Apply decals to surfaces easily and much faster than using patches.",
			"date": "09 / 28 / 16",
			"href": "tutorials/volume_decals.html",
			"videos": ["https://www.youtube.com/embed/07yIwwkwUQ0"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Adding Effects",
			"new": false,
			"difficulty": "Beginner",
			"description": "Add effects to your map such as fire, fog, steam, spark and more.",
			"date": "09 / 29 / 16",
			"href": "tutorials/add_effects.html",
			"videos": ["https://www.youtube.com/embed/T7079vvVtvI", "https://www.youtube.com/embed/vSTKYz3jVAo"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Brush Editing",
			"new": false,
			"difficulty": "Beginner",
			"description": "Download more assets for mapping: textures and models.",
			"date": "10 / 21 / 16",
			"href": "tutorials/brush_editing.html",
			"videos": ["https://www.youtube.com/embed/himkTVpKRo8"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Gameplay Standards",
			"new": false,
			"difficulty": "Beginner",
			"description": "Sizes and standards to making maps in Call of Duty.",
			"date": "10 / 22 / 16",
			"href": "tutorials/gameplay_standards.html",
			"videos": ["https://www.youtube.com/embed/VnwFgB28LrA"],
			"content": "",
			"downloads": []
		},
		{
			"title": "SSI and Lighting",
			"new": false,
			"difficulty": "Intermediate",
			"description": "SSI sun volumes and lights such as spot lights and omni.",
			"date": "11 / 10 / 16",
			"href": "tutorials/ssi_and_lighting.html",
			"videos": ["https://www.youtube.com/embed/jAmmmDvZp_A"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Mapping References",
			"new": false,
			"difficulty": "Beginner",
			"description": "It's always important to get ideas to inspire your mapping.",
			"date": "12 / 30 / 16",
			"href": "tutorials/mapping_references.html",
			"videos": ["https://www.youtube.com/embed/lICcknQGOxc"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Grid Sizes",
			"new": false,
			"difficulty": "Beginner",
			"description": "Lots of new mappers don't use proper grid sizes.",
			"date": "12 / 31 / 16",
			"href": "tutorials/grid_sizes.html",
			"videos": ["https://www.youtube.com/embed/wxsJ1dObhvA"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Avoiding Model Spam",
			"new": false,
			"difficulty": "Beginner",
			"description": "Model spam is arguably the worst thing a mapper can do, lets try to avoid that.",
			"date": "01 / 05 / 17",
			"href": "tutorials/avoiding_model_spam.html",
			"videos": ["https://www.youtube.com/embed/Q0ItMnlyFrc"],
			"content": "",
			"downloads": []
		}
	],
	"zombie":
	[
		{
			"title": "Removing Dog Rounds",
			"new": false,
			"difficulty": "Beginner",
			"description": "A quick tutorial on how to remove the Dog rounds from your zombies map.",
			"date": "09 / 30 / 16",
			"href": "tutorials/remove_dogs.html",
			"videos": ["https://www.youtube.com/embed/mnexZpyuA1E"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Doors and Debris",
			"new": false,
			"difficulty": "Beginner",
			"description": "Incorporating doors and debris into your zombies map.",
			"date": "09 / 30 / 16",
			"href": "tutorials/doors_and_debris.html",
			"videos": ["https://www.youtube.com/embed/FZaaw01xvmA", "https://www.youtube.com/embed/RJGLeTIQRvo"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Zones and Zombie Spawners",
			"new": false,
			"difficulty": "Intermediate",
			"description": "Setup your zombie spawners and the zones they are designated to.",
			"date": "10 / 01 / 16",
			"href": "tutorials/zones_and_spawners.html",
			"videos": ["https://www.youtube.com/embed/Ht1bu0zBqWA"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Download Traversals",
			"new": false,
			"difficulty": "Beginner",
			"description": "Download and use traversal prefabs to have zombies jump up, down, and over objects.",
			"date": "10 / 17 / 16",
			"href": "tutorials/download_traversals.html",
			"videos": ["https://www.youtube.com/embed/XjbI1qaweYc"],
			"content": "",
			"downloads": [
				{
					"name": "Traversal Prefabs",
					"linkDown": false,
					"description": "Prefabs used in this tutorial. They were updated to not require the script part anymore.",
					"href": "https://mega.nz/#!pEs2yQyC!Y4sFhZ2TxeQ_kelngT8C3J7M3jKhWm8gxWQnEeexhrw"
				}
			]
		},
		{
			"title": "Adding Music Easter Eggs",
			"new": false,
			"difficulty": "Intermediate",
			"description": "Setup objects in your map to find in order to activate a music easter egg.",
			"date": "11 / 02 / 16",
			"href": "tutorials/music_easter_egg.html",
			"videos": ["https://www.youtube.com/embed/P82oPI3KeG0"],
			"content": "",
			"downloads": [
				{
					"name": "Music Easter Egg Files",
					"linkDown": false,
					"description": "These are the files used in this tutorial; sound files are not included.",
					"href": "http://download936.mediafire.com/3kdcb6a5gkzg/j3pa79xa3d5w4jh/music_ee.rar"
				}
			]
		},
		{
			"title": "Custom Weapons in Mystery Box",
			"new": true,
			"difficulty": "Intermediate",
			"description": "Select which weapons you want in the box as well as putting your custom ones in.",
			"date": "01 / 21 / 17",
			"href": "tutorials/custom_weapons_in_mystery_box.html",
			"videos": ["https://www.youtube.com/embed/n8DSrZmlOR0"],
			"content": "",
			"downloads": [
				{
					"name": "_zm_clientBox.csc",
					"linkDown": false,
					"description": "This is the client script used in the tutorial to replace the spinning models in the box.",
					"href": "http://download1650.mediafire.com/75piy166maug/ep6rj3ejuspi7u3/_zm_clientBox.csc"
				}
			]
		},
		{
			"title": "Custom Wall Weapons and Chalk Drawings",
			"new": true,
			"difficulty": "Intermediate",
			"description": "Make your custom weapons wall buys as well as design the calk drawing.",
			"date": "01 / 28 / 17",
			"href": "tutorials/custom_wall_weapons.html",
			"videos": ["https://www.youtube.com/embed/wqiAZmDwk5A"],
			"content": "",
			"downloads": []
		}
	],
	"modding":
	[
		{
			"title": "Converting AI Animations",
			"new": false,
			"difficulty": "Intermediate",
			"description": "Convert AI animations from previous Call of Duty titles to a Black Ops 3 format.",
			"date": "09 / 03 / 16",
			"href": "tutorials/converting_ai_animations.html",
			"videos": ["https://www.youtube.com/embed/2GINQQ5EQkE"],
			"content": "",
			"downloads": [
				{
					"name": "AI Conversion",
					"linkDown": false,
					"description": "The maya files used in this tutorial to convert older Call of Duty AI animations to Black Ops 3.",
					"href": "http://download1580.mediafire.com/b75xpkwjnlfg/6cc9ikze2529k53/BO3+Ai+Conversion.rar"
				}
			]
		},
		{
			"title": "Extra Assets",
			"new": false,
			"difficulty": "Beginner",
			"description": "Download more assets for mapping: textures and models.",
			"date": "10 / 01 / 16",
			"href": "tutorials/extra_assets.html",
			"videos": ["https://www.youtube.com/embed/DFUdkOahEW8"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Setup export2bin.exe",
			"new": false,
			"difficulty": "Beginner",
			"description": "A quick tutorial on setting up the export2bin.exe so you can convert .xmodel_export and .xanim_export to .xmodel_bin and .xanim_bin.",
			"date": "10 / 03 / 16",
			"href": "tutorials/export2bin_setup.html",
			"videos": ["https://www.youtube.com/embed/4CpP0_d1KJs"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Installing JBird632s Claymores",
			"new": false,
			"difficulty": "Beginner",
			"description": "Download and use my custom Claymores in your zombies maps.",
			"date": "10 / 05 / 16",
			"href": "tutorials/claymore_download.html",
			"videos": ["https://www.youtube.com/embed/iYP_CdMhwG4"],
			"content": "",
			"downloads": [
				{
					"name": "JBirds Claymores",
					"linkDown": false,
					"description": "The assets used in this tutorial to install JBirds Claymores.",
					"href": "http://download848.mediafire.com/0q978nfvksog/j2pea6rvf1i1eso/jbirds_claymores.rar"
				}
			]
		},
		{
			"title": "Asset Property Editor Introduction",
			"new": false,
			"difficulty": "Beginner",
			"description": "An introduction to APE, a program used for inporting custom assets into Black Ops 3 Mod Tools.",
			"date": "10 / 07 / 16",
			"href": "tutorials/ape_introduction.html",
			"videos": ["https://www.youtube.com/embed/Nti1C1RLZb8"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Porting Materials",
			"new": false,
			"difficulty": "Intermediate",
			"description": "Walking through how to import materials.",
			"date": "10 / 09 / 16",
			"href": "tutorials/porting_materials.html",
			"videos": ["https://www.youtube.com/embed/hNKz2PqPAF4"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Porting Models",
			"new": false,
			"difficulty": "Intermediate",
			"description": "Walking through how to import models.",
			"date": "10 / 12 / 16",
			"href": "tutorials/porting_models.html",
			"videos": ["https://www.youtube.com/embed/r6LNrSaLH8g"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Porting Weapons",
			"new": false,
			"difficulty": "Advanced",
			"description": "The process of converting older Call of Duty Weapons to Black Ops 3.",
			"date": "10 / 12 / 16",
			"href": "tutorials/porting_weapons.html",
			"videos": ["https://www.youtube.com/embed/CHNfDfTb_gA", "https://www.youtube.com/embed/GzVSX-7scVY", "https://www.youtube.com/embed/smcofe6UleI"],
			"content": "",
			"downloads": [
				{
					"name": "Conversion Kit",
					"linkDown": true,
					"description": "The conversion kit used in part 1 of this tutorial to convert older Call of Duty weapons to Black Ops 3.",
					"href": ""
				},
				{
					"name": "weapons.csv",
					"linkDown": false,
					"description": "The sound alias file used as a base in part 3 of this tutorial.",
					"href": "http://download1486.mediafire.com/awqtcynrie3g/v412j0nj5t44b3z/weapons.csv"
				},
				{
					"name": "template_mod.csv",
					"linkDown": false,
					"description": "The template file used with the sound alias in part 3 of this tutorial.",
					"href": "http://download2156.mediafire.com/1abxgg20t7vg/l0el3jlandb5p9l/template_mod.csv"
				}
			]
		}
	],
	"scripting":
	[
		{
			"title": "Setup Sublime",
			"new": false,
			"difficulty": "Beginner",
			"description": "A quick tutorial on setting up Sublime to be able to read and highlight GSC and CSC syntax.",
			"date": "10 / 05 / 16",
			"href": "tutorials/sublime_setup.html",
			"videos": ["https://www.youtube.com/embed/vFr9DFstF9w"],
			"content": "",
			"downloads": [
				{
					"name": "Sublime",
					"linkDown": false,
					"description": "Code editing software which is standard for Call of Duty and used in this tutorial.",
					"href": "https://www.sublimetext.com/3"
				}
			]
		},
		{
			"title": "Purchase Loop",
			"new": false,
			"difficulty": "Intermediate",
			"description": "Setting up a purchase loop so you can purchase something multiple times.",
			"date": "08 / 16 / 16",
			"href": "tutorials/purchase_loop.html",
			"videos": ["https://www.youtube.com/embed/bvnmGmhldag"],
			"content": "",
			"downloads": []
		},
		{
			"title": "Custom Traps",
			"new": false,
			"difficulty": "Intermediate",
			"description": "Setting up a purchase loop so you can purchase something multiple times.",
			"date": "08 / 17 / 16",
			"href": "tutorials/custom_traps.html",
			"videos": ["https://www.youtube.com/embed/6mpDgXTlmvM"],
			"content": "",
			"downloads": []
		}
	]
};

var newTutorialsCount = 0;
setupTutorialList();

function setupTutorialList()
{
	var containers = document.getElementsByClassName('tutorial-listing');
	var length = containers.length;
	
	for(var i = 0; i < length; i++)
	{
		setupTutorialSection(containers[i]);
	}
	
	if(newTutorialsCount == 0)
	{
		var newDiv = document.getElementById('newest');
		
		if(!(newDiv === null))
			newDiv.parentNode.removeChild(newDiv);
	}
}

function setupTutorialSection(container)
{
	var newestContainer = document.getElementById('newest');
	var id = container.id;
	var sectionHeader = document.createElement('h6');
	sectionHeader.className = 'list-group-item list-group-tutorial-title list-group-item-header';
	sectionHeader.innerHTML = id.toUpperCase();
	container.appendChild(sectionHeader);
	
	for( var key in tutorialLinks)
	{
		if(key == id)
		{
			for(var i = 0; i < tutorialLinks[key].length; i++)
			{
				var button = document.createElement('a');
				var difficulty = document.createElement('span');
				var info = document.createElement('span');
				var title = document.createElement('h6');
				var description = document.createElement('span');
				var date = document.createElement('span');
				
				button.className = 'list-group-tutorial';
				button.href = tutorialLinks[key][i].href;
				difficulty.className = 'list-group-item-difficulty-' + tutorialLinks[key][i].difficulty + ' left';
				difficulty.innerHTML = tutorialLinks[key][i].difficulty;
				button.appendChild(difficulty);
				title.className = 'list-group-item-header';
				title.innerHTML = tutorialLinks[key][i].title;
				
				if( tutorialLinks[key][i]['new'] )
					title.innerHTML += '&nbsp;<span class="badge">New</span>';
				
				info.appendChild(title);
				description.className = 'list-group-item-text';
				description.innerHTML = tutorialLinks[key][i].description;

				info.appendChild(description);
				button.appendChild(info);
				date.className = 'list-group-item-text right';
				date.innerHTML = tutorialLinks[key][i].date;
				button.appendChild(date);				
				container.appendChild(button);
				
				if( tutorialLinks[key][i]['new'] ) // Add to the "NEWEST" container
				{
					newTutorialsCount++;
					var button = document.createElement('a');
					var difficulty = document.createElement('span');
					var info = document.createElement('span');
					var title = document.createElement('h6');
					var description = document.createElement('span');
					var date = document.createElement('span');
					
					button.className = 'list-group-tutorial';
					button.href = tutorialLinks[key][i].href;
					difficulty.className = 'list-group-item-difficulty-' + tutorialLinks[key][i].difficulty + ' left';
					difficulty.innerHTML = tutorialLinks[key][i].difficulty;
					button.appendChild(difficulty);
					title.className = 'list-group-item-header';
					title.innerHTML = tutorialLinks[key][i].title;
					
					if( tutorialLinks[key][i]['new'] )
						title.innerHTML += '&nbsp;<span class="badge">New</span>';
					
					info.appendChild(title);
					description.className = 'list-group-item-text';
					description.innerHTML = tutorialLinks[key][i].description;

					info.appendChild(description);
					button.appendChild(info);
					date.className = 'list-group-item-text right';
					date.innerHTML = tutorialLinks[key][i].date;
					button.appendChild(date);				
					container.appendChild(button);
				
					newestContainer.appendChild(button);
				}
			}
		}
	}
}

setupTutorialTemplate();

function setupTutorialTemplate()
{
	if(document.getElementsByClassName('tutorial-format').length == 0)
		return;
	
	var container = document.getElementsByClassName('tutorial-format')[0];
	
	var id = container.id;
	var tutorial = getObject(tutorialLinks, id, 'title');
	
	document.title = 'JBird632 | ' + tutorial.title;
	var breadcrumb = document.getElementsByClassName('sub-header')[0];
	var currentCrumb = document.createElement('span');
	currentCrumb.className = 'breadcrumb-text';
	currentCrumb.innerHTML = ' / ' + tutorial.title;
	breadcrumb.appendChild(currentCrumb);
	
	var titleDiv = document.createElement('div');
	titleDiv.className = 'container-title';
	container.appendChild(titleDiv);
	var title = document.createElement('span');
	title.className = 'title-text';
	title.innerHTML = tutorial.title;
	
	if(tutorial['new'])
		title.innerHTML += '&nbsp;<span class="badge">New</span>';
	
	var titleTab = document.createElement('span');
	titleTab.className = 'list-group-side left';
	titleTab.innerHTML = 'Information';
	titleDiv.appendChild(titleTab);
	
	titleDiv.appendChild(title);
	var table = document.createElement('table');
	var row = document.createElement('tr');
	table.appendChild(row);
	var td1 = document.createElement('td');
	var difficulty = document.createElement('span');
	difficulty.className = 'difficulty-warning ' + tutorial.difficulty.toLowerCase();
	difficulty.innerHTML = tutorial.difficulty;
	td1.appendChild(difficulty);
	row.appendChild(td1);
	var td2 = document.createElement('td');
	var difficultyDescription = document.createElement('span');
	
	switch(tutorial.difficulty)
	{
		case "Beginner":
			difficultyDescription.innerHTML = 'This tutorial is for all skill levels. There are no requirements to be able to do this tutorial.';
			break;
		case "Intermediate":
			difficultyDescription.innerHTML = 'This tutorial is for modders who know the basics. Some previous mapping, scripting and modding knowledge may be required.';
			break;
		case "Advanced":
			difficultyDescription.innerHTML = 'This tutorial recommends that you know a good amount of modding, mapping and scripting.';
			break;
		case "Expert":
			difficultyDescription.innerHTML = 'This tutorial is not to be taken lightly. If you don\'t understand the content, this tutorial is too much for you.';
			break;
		default:
			difficultyDescription.innerHTML = 'This tutorial is for all skill levels. There are no requirements to be able to do this tutorial.';
	}
	
	difficultyDescription.className = 'list-group-item-text';
	td2.appendChild(difficultyDescription);
	row.appendChild(td2);
	titleDiv.appendChild(table);
	container.appendChild(titleDiv);
	
	var descriptionDiv = document.createElement('div');
	
	var descriptionTab = document.createElement('span');
	descriptionTab.className = 'list-group-side left';
	descriptionTab.innerHTML = 'Description';
	descriptionDiv.appendChild(descriptionTab);
	
	descriptionDiv.className = 'container-title';
	var title = document.createElement('span');
	title.className = 'title-text breadcrumb-text';
	title.innerHTML = 'Description:';
	descriptionDiv.appendChild(title);
	var description = document.createElement('p');
	description.className = 'list-group-item-text';
	description.innerHTML = tutorial.description;
	descriptionDiv.appendChild(description);
	container.appendChild(descriptionDiv);
	
	if(tutorial.downloads.length > 0)
	{
		var downloadDiv = document.createElement('div');
		downloadDiv.className = 'container-title';
		var downloadsTab = document.createElement('span');
		downloadsTab.className = 'list-group-side left';
		downloadsTab.innerHTML = 'Downloads';
		downloadDiv.appendChild(downloadsTab);
		
		var title = document.createElement('span');
		title.className = 'title-text breadcrumb-text';
		title.innerHTML = 'Downloads:';
		downloadDiv.appendChild(title);
		
		var table = document.createElement('table');
		downloadDiv.appendChild(table);
		
		for(var i = 0; i < tutorial.downloads.length; i++ )
		{
			var row = document.createElement('tr');
			table.appendChild(row);
			var td1 = document.createElement('td');
			td1.className='col-lg-11 table-spacing';
			row.appendChild(td1);
			var td2 = document.createElement('td');
			td2.className='col-lg-1 table-spacing';
			row.appendChild(td2);
		
			var bg = document.createElement('div');
			var info = document.createElement('span');
			var title = document.createElement('h6');
			var description = document.createElement('span');
			var download = document.createElement('a');
			var downloadSpan = document.createElement('span');
			
			title.className = 'list-group-item-header';
			title.innerHTML = tutorial.downloads[i].name;
			
			if(tutorial.downloads[i].linkDown)
				title.innerHTML += '&nbsp;<span class="badge">Link is Down</span>';
			
			bg.className = 'tutorial-download-bg';
			
			info.appendChild(title);
			description.className = 'list-group-item-text';
			description.innerHTML = tutorial.downloads[i].description;

			info.appendChild(description);
			td1.appendChild(info);
			download.className = 'list-group-item-text right';
			download.innerHTML = 'Download';
			download.className = 'btn btn-download right';
			download.href = tutorial.downloads[i].href;
			download.target = '_blank';
			downloadSpan.appendChild(download);
			td2.appendChild(downloadSpan);
		}
		
		container.appendChild(downloadDiv);
	}
	
	if(tutorial.videos.length > 0)
	{
		var contentDiv = document.createElement('div');
		contentDiv.className = 'container-title';
		var contentTab = document.createElement('span');
		contentTab.className = 'list-group-side left';
		contentTab.innerHTML = 'Tutorial';
		contentDiv.appendChild(contentTab);
			
		for(var i = 0; i < tutorial.videos.length; i++ )
		{					
			var videoDiv = document.createElement('div');
			videoDiv.className = 'video-container';
			contentDiv.appendChild(videoDiv);
			var video = document.createElement('iframe');
			video.className = 'tutorial-video';
			video.src = tutorial.videos[i];	
			videoDiv.appendChild(video);
			container.appendChild(contentDiv);		
		}
	}
	
	resizedEvent();
}

function getObject(json, searchFor, property)
{
	var keys = Object.keys(json);
	var length = keys.length;
	
    for(var i=0; i < length; i++)
	{
		var keys2 = Object.keys(json[keys[i]]);
		var length2 = keys2.length;
	
		for( var j=0; j < length2; j++)
		{
			var item = json[keys[i]][keys2[j]];
			
			if (item[property].toLowerCase() === searchFor.toLowerCase())
					return item;
		}
    }
	
    return "";
}

window.onresize = function(event)
{
	resizedEvent();
};

function resizedEvent()
{
	var tabs = document.getElementsByClassName('list-group-side');
	var length = tabs.length;
	
	for( var i = 0; i < length; i++ )
	{
		tabs[i].style.height = tabs[i].parentNode.offsetHeight + 'px';
	}
}
